<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quantitative Methods - Workshop, Assigments and Tutorials - Workshop 7: Hvordan i huleste løser jeg arbeidskrav 1? En oppsummering av emnet så langt</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Quantitative Methods - Workshop, Assigments and Tutorials</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./assignments.html">Assignments</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./workshops.html">Workshops</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#steg-1-forberedelse-av-data" id="toc-steg-1-forberedelse-av-data" class="nav-link active" data-scroll-target="#steg-1-forberedelse-av-data">Steg 1: Forberedelse av data</a></li>
  <li><a href="#steg-2-sett-opp-verktøy-for-reproduserbar-dataanalyse" id="toc-steg-2-sett-opp-verktøy-for-reproduserbar-dataanalyse" class="nav-link" data-scroll-target="#steg-2-sett-opp-verktøy-for-reproduserbar-dataanalyse">Steg 2: Sett opp verktøy for reproduserbar dataanalyse</a></li>
  <li><a href="#steg-3-legg-inn-data-og-starte-opp-et-quarto-dokument" id="toc-steg-3-legg-inn-data-og-starte-opp-et-quarto-dokument" class="nav-link" data-scroll-target="#steg-3-legg-inn-data-og-starte-opp-et-quarto-dokument">Steg 3: Legg inn data og starte opp et quarto-dokument</a></li>
  <li><a href="#steg-4-git-add-commit-and-push" id="toc-steg-4-git-add-commit-and-push" class="nav-link" data-scroll-target="#steg-4-git-add-commit-and-push">Steg 4: «Git add, commit and push»</a></li>
  <li><a href="#steg-5-beregne-reliabilitet" id="toc-steg-5-beregne-reliabilitet" class="nav-link" data-scroll-target="#steg-5-beregne-reliabilitet">Steg 5: Beregne reliabilitet</a></li>
  <li><a href="#steg-6-skriv-rapporten" id="toc-steg-6-skriv-rapporten" class="nav-link" data-scroll-target="#steg-6-skriv-rapporten">Steg 6: Skriv rapporten</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Workshop 7: Hvordan i huleste løser jeg arbeidskrav 1? En oppsummering av emnet så langt</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Hensikten med oppgaven er (1) å beskrive reliabilitet i en testmetode fra fysiologilabben, og (2) bruke verktøy for reproduserbar dataanalyse. Testet skal beskrives i detalj, inkludert gjennomføring av testen og hvordan data prosesseres fra rådata til ferdig rapport. Kravet om verktøy for reproduserbar dataanalyse innebærer at dere forventes lage en rapport som kan reproduseres på en annen PC, rapporten skal derfor være koblet til data og kod som kan gjenskape den.</p>
<section id="steg-1-forberedelse-av-data" class="level2">
<h2 class="anchored" data-anchor-id="steg-1-forberedelse-av-data">Steg 1: Forberedelse av data</h2>
<p>Som et første steg kan det være lurt å lage datasett som er «tidy». Dette innebærer en rad per observasjon og en kolonne per variabel. I en reliabilitetsstudie kan man f.eks. samle inn data fra et antall deltakere og to tester. Data fra de to første deltakerne kan se slik ut:</p>
<table class="table">
<thead>
<tr class="header">
<th>participant</th>
<th>time</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>67</td>
</tr>
<tr class="even">
<td>2</td>
<td>1</td>
<td>54</td>
</tr>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>69</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>53</td>
</tr>
</tbody>
</table>
</section>
<section id="steg-2-sett-opp-verktøy-for-reproduserbar-dataanalyse" class="level2">
<h2 class="anchored" data-anchor-id="steg-2-sett-opp-verktøy-for-reproduserbar-dataanalyse">Steg 2: Sett opp verktøy for reproduserbar dataanalyse</h2>
<p>Her kreves ekstra programvare på din PC og en brukere på www.github.com. Last ned git fra https://git-scm.com/downloads og legg til sti (file path) til git executable (git.exe) i RStudio gjennom menyene Tools &gt; Global Options &gt; Git/SVN &gt; Git executable. Du finner git.exe i f.eks. C:/Program Files/Git/bin/git.exe.</p>
<p>Neste steg er å skape en brukere på www.github.com.</p>
<p>Den enkleste måten å starte en mappe (repository) med versjonskontroll og kobling til github er å logge på github.com, velg «New» eller gå til https://github.com/new for å lage en ny repository. Velg et godt navn (beskrivende for hva hensikten med analysen er, men kort). Trykk på «create repository», kopier adressen i det neste steget (f.eks. https://github.com/dhammarstrom/vo2max-reliability.git).</p>
<p>Starte opp RStudio. Velg «New project» i Project menyen. Velg «version control» og «Git», lim inn adressen fra github.com. Velg en passende plass på din PC for å lagre prosjektmappen, trykk på «Create project». Du har nå en mappe med versjonskontroll som er koblet mot en «remote repository» på github.com.</p>
</section>
<section id="steg-3-legg-inn-data-og-starte-opp-et-quarto-dokument" class="level2">
<h2 class="anchored" data-anchor-id="steg-3-legg-inn-data-og-starte-opp-et-quarto-dokument">Steg 3: Legg inn data og starte opp et quarto-dokument</h2>
<p>I den prosjektmappe du har på PC kan du nå legge til data. Skape en ny mappe med navnet «data» og legg in dataene du forbrett i Steg 1. Dette kan være en xlsx- eller csv-fil.</p>
<p>For å bruke quarto trenger du å installere quarto, gå til https://quarto.org/, trykk på «Get Started» og følg instruksjonene.</p>
<p>Ette å ha startet RStudio på nytt bør du ha mulighet til å starte et nytt quarto-dokument fra File &gt; New File &gt; Quarto document.</p>
<p>Spare dokumentet i din prosjektmappe. Vi er nå klare for å logge den første versjonen av prosjektet.</p>
</section>
<section id="steg-4-git-add-commit-and-push" class="level2">
<h2 class="anchored" data-anchor-id="steg-4-git-add-commit-and-push">Steg 4: «Git add, commit and push»</h2>
<p>Filer kan legges til i versjonshistorikken ved å det grafiske grensesnittet i RStudio. Trykk på Ctrl+Alt+M og du får opp et vindu med endringer. Her bør du nå se din data-fil og quarto-dokumentet som du har spart. Marker de filer du ønsker å legge til i historikken (under Staged i menyen til venstre). Skriv et «Commit message» (til høyre) og trykk på «commit». Et vindu åpnes og sier noe om statusen for din commit. For å laste opp filene till github.com så trenger du å trykke på «Push» (pilen som peker oppover lengst oppe til høyre).</p>
<p>Hvis du eller din kamerat har gjort forandringer i mappen på github kan du trykke på «pull» (pil som peker nedover). Du laster da ned forandringer til din lokale mappe.</p>
<p>Hvor ofte bør jeg legge til forandringer? Det er opp til deg, men det kan være lurt å legge til flere små forandringer for å ha mulighet til å se når noe går galt.</p>
</section>
<section id="steg-5-beregne-reliabilitet" class="level2">
<h2 class="anchored" data-anchor-id="steg-5-beregne-reliabilitet">Steg 5: Beregne reliabilitet</h2>
<p>Dette steget krever noe data wrangling, noe innsikt i hva som er reliabilitet og noe innsikt i hvordan du kan presentere resultater. For bakgrunn og diskusjon se <a href="https://dhammarstrom.github.io/quant-methods/reliability-in-the-physiology-lab.html#reliability-in-the-physiology-lab">kursnotatene kapittel 9</a>.</p>
<p>Hele analysen er ikke større enn at den får plass i et quarto-dokument. I mer komplekse prosjekter kreves det iblant flere filer/skript for å håndtere data og funksjoner.</p>
<p>I quarto-dokumentet blir første steg å laste inn data. Du har plassert dataene i en mappen som heter «data», denne kan du nå gjennom en relativ adresse. For å laste inn en xlsx-fil trenger du pakken «readxl», for å laste inn en csv-fil vil «readr» eller funksjoner fra base R fungere. I eksemplet under laster vi inn en excelfil og lagrer den i et objekt som vi navngir «dat».</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse); <span class="fu">library</span>(readxl)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/vo2max-g2.xlsx"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(fp, time, <span class="at">vo2max =</span> <span class="st">`</span><span class="at">VO2_max_ml/min</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 x 3
      fp time  vo2max
   &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
 1     1 pre    4515 
 2     1 post   4372 
 3     2 pre    5042.
 4     2 post   5050.
 5     3 pre    3088 
 6     3 post   3130.
 7     4 pre    2828.
 8     4 post   2897 
 9     5 pre    4922 
10     5 post   4696.
# ... with 12 more rows</code></pre>
</div>
</div>
<p>Vi skal beregne reliabilitet basert på differenser mellom to målinger. Hvis en test har høy reliabilitet så er differensen mellom to målinger liten. Vi ønsker bestemme den typiske differensen (eller typical error) mellom to målinger, dette definerer vi som standardavviket for differensene delt på kvadratroten av 2 <span class="citation" data-cites="RN130">(!, se <a href="#ref-RN130" role="doc-biblioref">Hopkins 2000</a>)</span>.</p>
<p>Den enkleste måten å regne ut differensen mellom parvise målinger er å lage datasettet til «wide» format. Dette gjør vi med pivot_wider, vi lager seden en ny variabel for å skape differensen. Standardavvik av differensen kan beregnes i summarise. Typiske feilet/differensen/error kan uttrykkes som en % av gjennomsnitt og ved hjelp av «limits of agreement» <span class="citation" data-cites="RN130">(<a href="#ref-RN130" role="doc-biblioref">Hopkins 2000</a>)</span> (Se også <a href="https://dhammarstrom.github.io/quant-methods/reliability-in-the-physiology-lab.html#reliability-in-the-physiology-lab">kursnotatene</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> time, <span class="at">values_from =</span> vo2max) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">diff =</span> post <span class="sc">-</span> pre) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">s =</span> <span class="fu">sd</span>(diff),  <span class="co"># SD av differense</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">m =</span> <span class="fu">mean</span>(<span class="fu">c</span>(pre, post)),  <span class="co"># Gjennomsnitt av alle målingene</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">te =</span> s <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">2</span>)) <span class="sc">%&gt;%</span> <span class="co"># "Typical error" </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 3
      s     m    te
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  230. 4023.  163.</code></pre>
</div>
</div>
</section>
<section id="steg-6-skriv-rapporten" class="level2">
<h2 class="anchored" data-anchor-id="steg-6-skriv-rapporten">Steg 6: Skriv rapporten</h2>
<p>Nå er vi klare for å skrive rapporten. For å vise at du kan håndtere alle delene i en kvantitativ rapport bør den inneholde:</p>
<ul>
<li>En figur. Bruk ggplot2 for å gi en grafisk representasjon av dataene, kanskje rådata fra test 1 og 2 plotet på x og y aksel. Alternativt noe mer avansert, som en <a href="https://www.statology.org/bland-altman-plot-r/">Bland-Altman plot</a></li>
<li>En tabell, bruk gt for å lage en tabell for å beskrive deltakerne eller resultater</li>
<li>Bibliography/Referanser. Bruk visual editor og sett in referanser (Insert &gt; Citation)</li>
<li>Teksten bør beskrive testen (protokoll, databearbeiding osv) og tolkning av resultatene. Her bør dere bruke relevante referanser for å sette deres resultat i kontekst.</li>
</ul>
<p>Se til at rapporten er mulig å lage til eks. html (knit/render virker). Legg alt på github og lim inn adressen i innleveringen på canvas.</p>
<p>Lykke till!</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-RN130" class="csl-entry" role="doc-biblioentry">
Hopkins, W. G. 2000. <span>“Measures of Reliability in Sports Medicine and Science.”</span> Journal Article. <em>Sports Med</em> 30 (1): 1–15. <a href="http://www.ncbi.nlm.nih.gov/pubmed/10907753">http://www.ncbi.nlm.nih.gov/pubmed/10907753</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>